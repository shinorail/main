<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠçŸ¥ã‚‰ã›ãƒ»ã‚µãƒ¼ãƒãƒ¼æƒ…å ± - ç¯ ãƒäº•ä¹—å‹™åŒº</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>ç¯ ãƒäº•ä¹—å‹™åŒº å…¬å¼ã‚µã‚¤ãƒˆ</h1>
</header>

<nav>
    <a href="index.html">ãƒ›ãƒ¼ãƒ </a>
    <a href="train-news.html">Train-News</a>
    <a href="news.html">ãŠçŸ¥ã‚‰ã›</a>
    <a href="history.html">æ²¿é©</a>
    <a href="contact.html">å•ã„åˆã‚ã›</a>
</nav>

<div class="container">
    
    <section>
        <h2>ç®¡ç†è€…ã‹ã‚‰ã®ãŠçŸ¥ã‚‰ã›</h2>
        <div class="news-box">
            <p><strong>ã€2å‘¨å¹´è¨˜å¿µã€‘ãŠæ­£æœˆãŠã¿ãã˜å…¬é–‹ã®ãŠçŸ¥ã‚‰ã›</strong></p>
            <p>2026å¹´1æœˆ1æ—¥ã‚ˆã‚Šã€2å‘¨å¹´ã‚’è¨˜å¿µã—ãŸç‰¹è¨­ã‚µã‚¤ãƒˆã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚</p>
            <p><a href="https://shinorail.github.io/shinonoi-2026/">ğŸ‘‰ ç‰¹è¨­ã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰</a></p>
        </div>
    </section>

    <section>
        <h2>æ›´æ–°æƒ…å ±</h2>
        <div id="loading-area">
            <p style="text-align: center; font-size: 14px; color: #666;">åˆ—è»ŠãŒãƒ‡ãƒ¼ã‚¿ã‚’é‹ã‚“ã§ã„ã¾ã™...</p>
            <div class="loading-rail">
                <div class="train-icon train-active"></div>
            </div>
        </div>

        <ul id="update-list" class="update-list">
            </ul>
    </section>

</div>

<footer>
    <p>é‹å–¶ï¼šç¯ ãƒäº•ä¹—å‹™åŒº &copy; 2026 All Rights Reserved.</p>
</footer>

<script>
const spreadsheetUrl = "https://script.google.com/macros/s/AKfycbwbUTBxVeTkRlAJ1dnBlgcmpGaWI9B0SeMwkwKSwAJYjRDAtVcX67QwA5FcNGaJE9Cq/exec";

async function loadNews() {
    try {
        const response = await fetch(spreadsheetUrl);
        const data = await response.json();
        
        const loadingArea = document.getElementById('loading-area');
        const listContainer = document.getElementById('update-list');
        
        // èª­ã¿è¾¼ã¿ä¸­è¡¨ç¤ºã‚’æ¶ˆã™
        loadingArea.style.display = 'none';

        if (data.length === 0) {
            listContainer.innerHTML = '<li>ç¾åœ¨ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>';
            return;
        }

        // ãƒ‡ãƒ¼ã‚¿ã‚’æ–°ã—ã„é †ã«ã—ã¦DOMä½œæˆ
        data.reverse().forEach((item, index) => {
            const li = document.createElement('li');
            li.innerHTML = `
                <span class="update-date">${item.æ—¥ä»˜ || ''}</span>
                <span class="badge badge-news">${item.ã‚«ãƒ†ã‚´ãƒª || 'æ›´æ–°'}</span>
                <span>${item.å†…å®¹ || ''}</span>
            `;
            listContainer.appendChild(li);

            // å°‘ã—ãšã¤é…ã‚‰ã›ã¦è¡¨ç¤ºï¼ˆé‰„é“ãŒèµ°ã£ã¦ã„ãã‚ˆã†ã«ï¼‰
            setTimeout(() => {
                li.classList.add('show');
            }, index * 200); // 200msãšã¤ãšã‚‰ã—ã¦è¡¨ç¤º
        });
    } catch (error) {
        document.getElementById('loading-area').innerHTML = '<p>ãƒ‡ãƒ¼ã‚¿ã®é€£çµã«å¤±æ•—ã—ã¾ã—ãŸï¼ˆè„±ç·šï¼‰</p>';
        console.error("Error:", error);
    }
}

loadNews();
</script>

</body>
</html>
