<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ›ãƒ¼ãƒ  - ç¯ ãƒäº•ä¹—å‹™åŒº</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* indexå°‚ç”¨ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .omikuji-box {
            background: linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%);
            border: 2px solid #d32f2f;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .omikuji-box h3 { color: #d32f2f; margin-top: 0; }
        .btn-omikuji {
            display: inline-block;
            background-color: #d32f2f;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 10px;
        }
        .sns-info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 5px solid #2196f3;
        }
        .link-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        .link-card {
            background: #f0f0f0;
            padding: 15px;
            text-align: center;
            text-decoration: none;
            color: #004da0;
            font-weight: bold;
            border-radius: 5px;
            border: 1px solid #ddd;
            transition: 0.3s;
        }
        .link-card:hover { background: #e0e0e0; }

        /* ç§»è¨­æ¡ˆå†…ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .popup-content { background: white; padding: 30px; border-radius: 10px; max-width: 400px; width: 85%; text-align: center; }
        .btn-close { background-color: #004da0; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 15px; font-weight: bold; }

        /* ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
        .survey-toggle {
            position: fixed; bottom: 20px; right: 20px; background: #004da0; color: white;
            padding: 12px 20px; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            z-index: 1500; font-size: 14px; font-weight: bold;
        }
        .survey-popup {
            position: fixed; bottom: 80px; right: 20px; width: 300px; background: white;
            border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); display: none;
            flex-direction: column; z-index: 1500; border: 1px solid #004da0; overflow: hidden;
        }
        .survey-header { background: #004da0; color: white; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; }
        .survey-header button { background: none; border: none; color: white; cursor: pointer; font-size: 20px; }
        .survey-body { padding: 15px; }
        .s-group { margin-bottom: 15px; }
        .s-group label { display: block; font-size: 12px; color: #666; margin-bottom: 5px; }
        .s-group textarea { width: 100%; border: 1px solid #ddd; padding: 8px; box-sizing: border-box; border-radius: 4px; resize: none; }
        .s-rating { display: flex; justify-content: space-between; }
        .s-rating input { display: none; }
        .s-rating label { flex: 1; text-align: center; background: #eee; margin: 0 2px; padding: 8px 0; cursor: pointer; border-radius: 4px; font-weight: bold; }
        .s-rating input:checked + label { background: #004da0; color: white; }
        .s-submit { width: 100%; background: #004da0; color: white; border: none; padding: 12px; border-radius: 4px; cursor: pointer; font-weight: bold; }

        @media (max-width: 600px) { .survey-popup { width: calc(100% - 40px); bottom: 75px; right: 20px; } }
    </style>
</head>
<body>

<header></header>
<nav></nav>

<div class="container">
    <section class="omikuji-box">
        <h3>ã€2å‘¨å¹´è¨˜å¿µã€‘ãŠæ­£æœˆãŠã¿ãã˜å…¬é–‹ã®ãŠçŸ¥ã‚‰ã›</h3>
        <p>2026å¹´1æœˆ1æ—¥åˆå‰0æ™‚ã‚ˆã‚Šã€2å‘¨å¹´ã‚’è¨˜å¿µã—ãŸã€Œé‰„é“ãŠã¿ãã˜ã€ã‚’ç‰¹è¨­ã‚µã‚¤ãƒˆã«ã¦å…¬é–‹ã„ãŸã—ã¾ã™ã€‚æ–°å¹´ã®é‹è©¦ã—ã«ãœã²ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚</p>
        <a href="https://shinorail.github.io/shinonoi-2026/" class="btn-omikuji">2å‘¨å¹´ç‰¹è¨­ã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰</a>
    </section>

    <section>
        <p>ã‚ˆã†ã“ãã€ç¯ ãƒäº•ä¹—å‹™åŒºã®å…¬å¼ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¸ã€‚</p>
        <p>å½“ã‚µã‚¤ãƒˆã¯ã€é‰„é“ã®é­…åŠ›ã‚’ç™ºä¿¡ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«é‹å–¶ã•ã‚Œã¦ã„ã¾ã™ã€‚é•·é‡çœŒã‚’ä¸­å¿ƒã¨ã—ãŸè·¯ç·šç´¹ä»‹ã€æ²¿ç·šé¢¨æ™¯ã®è¨˜éŒ²ã€ç¾å½¹é‰„é“ãƒ•ã‚¡ãƒ³ã¨ã®ã¤ãªãŒã‚Šã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰æƒ…å ±ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚</p>
    </section>

    <section class="sns-info">
        <p><strong>â—‡ æœ€æ–°æƒ…å ±ã¯ Xï¼ˆæ—§Twitterï¼‰ã§ç™ºä¿¡ä¸­ï¼</strong></p>
        <p><a href="https://x.com/Shino_Rail" target="_blank">@Shino_Rail</a></p>
        <p style="font-size: 0.85em; color: #666;">â€»æœ¬ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®DMã¯å‘ŠçŸ¥å°‚ç”¨ã§ã™ã€‚ãŠå•ã„åˆã‚ã›ã«ã¯å¯¾å¿œã„ãŸã—ã‹ã­ã¾ã™ã€‚</p>
    </section>

    <div class="link-grid">
        <a href="mission.html" class="link-card">â–¶ æ´»å‹•ç†å¿µã‚’è¦‹ã‚‹</a>
        <a href="history.html" class="link-card">â–¶ æ²¿é©ã‚’è¦‹ã‚‹</a>
        <a href="news.html" class="link-card">â–¶ ãŠçŸ¥ã‚‰ã›ã‚’è¦‹ã‚‹</a>
    </div>
</div>

<div id="popup-overlay" class="popup-overlay">
    <div class="popup-content">
        <h3>ãŠçŸ¥ã‚‰ã›</h3>
        <p>ç¾åœ¨ã€æ—§ã‚µã‚¤ãƒˆï¼ˆGoogle Sitesï¼‰ã‹ã‚‰æœ¬ã‚µã‚¤ãƒˆã¸ã®ç§»è¨­ã‚’é †æ¬¡é€²ã‚ã¦ãŠã‚Šã¾ã™ã€‚ä½•å’ã”äº†æ‰¿ãã ã•ã„ã€‚</p>
        <button onclick="closePopup()" class="btn-close">ç¢ºèªã—ã¾ã—ãŸ</button>
    </div>
</div>

<div id="survey-toggle" class="survey-toggle" onclick="toggleSurvey()">ğŸ“© ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆå”åŠ›</div>
<div id="survey-container" class="survey-popup">
    <div class="survey-header"><span>é–²è¦§è€…ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</span><button onclick="toggleSurvey()">Ã—</button></div>
    <form id="survey-form" class="survey-body">
        <div class="s-group">
            <label>ã‚µã‚¤ãƒˆã®æº€è¶³åº¦ (1-5)</label>
            <div class="s-rating">
                <input type="radio" name="s-rate" id="sr1" value="1"><label for="sr1">1</label>
                <input type="radio" name="s-rate" id="sr2" value="2"><label for="sr2">2</label>
                <input type="radio" name="s-rate" id="sr3" value="3" checked><label for="sr3">3</label>
                <input type="radio" name="s-rate" id="sr4" value="4"><label for="sr4">4</label>
                <input type="radio" name="s-rate" id="sr5" value="5"><label for="sr5">5</label>
            </div>
        </div>
        <div class="s-group">
            <label>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆä»»æ„ï¼‰</label>
            <textarea id="s-msg" rows="3" placeholder="ã”è‡ªç”±ã«ãŠæ›¸ããã ã•ã„"></textarea>
        </div>
        <button type="submit" id="s-btn" class="s-submit">é€ä¿¡ã™ã‚‹</button>
    </form>
    <div id="s-thanks" style="display:none; padding: 30px 15px; text-align: center;">
        <div style="font-size: 30px; margin-bottom: 10px;">ğŸšŠ</div>
        <h3 style="margin: 0 0 10px 0; color: #004da0; font-size: 16px;">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ</h3>
        <p style="font-size: 12px; color: #666;">ã”å”åŠ›æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚</p>
    </div>
</div>

<footer></footer>

<script src="menu.js"></script>

<script>
    const scriptUrl = "https://script.google.com/macros/s/AKfycbwbUTBxVeTkRlAJ1dnBlgcmpGaWI9B0SeMwkwKSwAJYjRDAtVcX67QwA5FcNGaJE9Cq/exec";

    // ç§»è¨­æ¡ˆå†…ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—åˆ¶å¾¡
    window.addEventListener('load', () => {
        if (!sessionStorage.getItem('visited_shinorail')) {
            document.getElementById('popup-overlay').style.display = 'flex';
        }
    });
    function closePopup() {
        document.getElementById('popup-overlay').style.display = 'none';
        sessionStorage.setItem('visited_shinorail', 'true');
    }

    // ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—åˆ¶å¾¡
    function toggleSurvey() {
        const p = document.getElementById('survey-container');
        p.style.display = (p.style.display === 'flex') ? 'none' : 'flex';
    }

    // ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆé€ä¿¡
    document.getElementById('survey-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = document.getElementById('s-btn');
        btn.disabled = true; btn.innerText = "é€ä¿¡ä¸­...";
        
        const data = {
            name: "åŒ¿å",
            rating: document.querySelector('input[name="s-rate"]:checked').value,
            message: document.getElementById('s-msg').value || "ï¼ˆæœªå…¥åŠ›ï¼‰"
        };

        try {
            await fetch(scriptUrl, { method: 'POST', body: JSON.stringify(data) });
            document.getElementById('survey-form').style.display = 'none';
            document.getElementById('s-thanks').style.display = 'block';
            setTimeout(() => {
                toggleSurvey();
                setTimeout(() => {
                    document.getElementById('survey-form').style.display = 'block';
                    document.getElementById('s-thanks').style.display = 'none';
                    btn.disabled = false; btn.innerText = "é€ä¿¡ã™ã‚‹";
                    document.getElementById('survey-form').reset();
                }, 500);
            }, 3000);
        } catch (e) {
            alert("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");
            btn.disabled = false; btn.innerText = "é€ä¿¡ã™ã‚‹";
        }
    });
</script>

</body>
</html>
