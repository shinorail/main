<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ›ãƒ¼ãƒ  - ç¯ ãƒäº•ä¹—å‹™åŒº</title>

<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#004da0">

<style>
/* ===== æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³åŸºæº– ===== */
.omikuji-box {
  background: linear-gradient(135deg, #fff5f5 0%, #fff0f0 100%);
  border: 2px solid #d32f2f;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  text-align: center;
}
.omikuji-box h3 { color:#d32f2f; margin-top:0; }
.btn-omikuji {
  background:#d32f2f; color:#fff;
  padding:10px 20px;
  border-radius:5px;
  text-decoration:none;
  font-weight:bold;
}

.sns-info {
  background:#e3f2fd;
  padding:15px;
  border-radius:5px;
  border-left:5px solid #2196f3;
}

.link-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:15px;
  margin-top:30px;
}

.link-card {
  background:#f0f0f0;
  padding:15px;
  text-align:center;
  text-decoration:none;
  color:#004da0;
  font-weight:bold;
  border-radius:5px;
  border:1px solid #ddd;
  transition:.2s;
}
.link-card:hover { background:#e0e0e0; }

/* ===== ã‚¢ãƒ—ãƒªè¿½åŠ ã‚«ãƒ¼ãƒ‰ï¼ˆæº¶ã‘è¾¼ã¿ï¼‰ ===== */
.install-card {
  background:#004da0;
  color:#fff;
}
.install-card span {
  display:block;
  font-size:13px;
  font-weight:normal;
  margin-top:6px;
}
</style>
</head>

<body>

<header></header>
<nav></nav>

<div class="container">

  <section class="omikuji-box">
    <h3>ã€2å‘¨å¹´è¨˜å¿µã€‘ãŠæ­£æœˆãŠã¿ãã˜</h3>
    <p>ç¾åœ¨å…¬é–‹ä¸­ï¼ˆ1æœˆ31æ—¥ã¾ã§ï¼‰</p>
    <a href="https://shinorail.github.io/shinonoi-2026/" class="btn-omikuji">
      ç‰¹è¨­ã‚µã‚¤ãƒˆã¯ã“ã¡ã‚‰
    </a>
  </section>

  <p>ã‚ˆã†ã“ãã€ç¯ ãƒäº•ä¹—å‹™åŒºã®å…¬å¼ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¸ã€‚</p>

  <section class="sns-info">
    <strong>Xï¼ˆæ—§Twitterï¼‰</strong><br>
    <a href="https://x.com/Shino_Rail">@Shino_Rail</a>
  </section>

  <div class="link-grid">

    <!-- â˜… ã‚¢ãƒ—ãƒªè¿½åŠ ãƒœã‚¿ãƒ³ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãªã‚‰éè¡¨ç¤ºï¼‰ -->
    <a href="#" id="install-btn" class="link-card install-card">
      ğŸ“± ã‚¢ãƒ—ãƒªã‚’ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ 
      <span>ç«¯æœ«ã«å¿œã˜ãŸæ–¹æ³•ã‚’ã”æ¡ˆå†…ã—ã¾ã™</span>
    </a>

    <a href="mission.html" class="link-card">æ´»å‹•ç†å¿µ</a>
    <a href="history.html" class="link-card">æ²¿é©</a>
    <a href="news.html" class="link-card">ãŠçŸ¥ã‚‰ã›</a>
  </div>

</div>

<footer></footer>

<script src="menu.js"></script>

<script>
/* ===== PWA åŸºæœ¬ ===== */
let deferredPrompt = null;

// Service Worker ç™»éŒ²
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js');
}

// beforeinstallprompt æ•æ‰
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;
});

/* ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿åˆ¤å®š */
function isInstalled() {
  return window.matchMedia('(display-mode: standalone)').matches
    || window.navigator.standalone === true;
}

const installBtn = document.getElementById('install-btn');
if (isInstalled()) {
  installBtn.style.display = 'none';
}

/* ===== ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¡ˆå†…ï¼ˆæœ€çµ‚ç‰ˆï¼‰ ===== */
installBtn.addEventListener('click', async e => {
  e.preventDefault();

  /* æ­£è¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ï¼ˆAndroid / ä¸€éƒ¨PCï¼‰ */
  if (deferredPrompt) {
    deferredPrompt.prompt();
    await deferredPrompt.userChoice;
    deferredPrompt = null;
    return;
  }

  /* iOS Safari */
  if (/iphone|ipad|ipod/i.test(navigator.userAgent)) {
    location.href = 'installæ–¹æ³•.html';
    return;
  }

  /* â˜… æ­£è§£ãƒ«ãƒ¼ãƒˆæ¡ˆå†…ï¼ˆå¿…ãšå‡ºã™ï¼‰ */
  alert(
    'ã“ã®ç«¯æœ«ã§ã¯è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”»é¢ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚\n\n' +
    'ã€Androidã€‘\n' +
    'Chromeå³ä¸Šã€Œï¸™ã€â†’ã€Œã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€\n\n' +
    'ã€ãƒ‘ã‚½ã‚³ãƒ³ã€‘\n' +
    'ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³å´ã®ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã‚¢ã‚¤ã‚³ãƒ³\n\n' +
    'ã€iPhone / iPadã€‘\n' +
    'Safariã®å…±æœ‰ãƒœã‚¿ãƒ³ â†’ã€Œãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã€'
  );
});
</script>

</body>
</html>
